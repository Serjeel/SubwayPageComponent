{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;AAAA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;ACrBoB;;AAEnC,yBAAyB,kDAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;;ACbqB;AACF;;AAElC,wBAAwB,kDAAS;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA,wBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,iDAAQ,GAAG,wBAAwB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;AC7EoB;;AAEnC,6BAA6B,kDAAS;AACtC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,wDAAwD;AAClG,sBAAsB,EAAE,IAAI,mBAAmB;AAC/C;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;ACrDoB;;AAEnC,uBAAuB,kDAAS;AAChC;AACA;AACA;AACA;AACA;AACA,yCAAyC,EAAE;AAC3C,wCAAwC,MAAM;AAC9C,8CAA8C,YAAY;AAC1D,uCAAuC,UAAU;AACjD,8CAA8C,iBAAiB;AAC/D;AACA;AACA,uDAAuD,EAAE,IAAI,WAAW;AACxE;AACA;AACA;AACA;AACA,0EAA0E,EAAE;AAC5E,0EAA0E,EAAE,UAAU,mBAAmB;AACzG,uEAAuE,EAAE;AACzE;AACA,yDAAyD,EAAE;AAC3D;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;AC9BoB;;AAEnC,oBAAoB,kDAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;UCjCf;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;ACNoC;AACE;AACF;AACU;AAClB;;AAE5B,kBAAkB,kDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA,8BAA8B,mDAAU;AACxC,kCAAkC,uDAAc;AAChD;AACA,mDAAmD;AACnD,SAAS;AACT,yBAAyB,8CAAK;AAC9B,6BAA6B,kDAAS;AACtC;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,kBAAkB;AAClB,kBAAkB;AAClB;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA,iEAAe,GAAG,EAAC;;AAEnB;AACA;AACA;AACA;;AAEA;AACA;AACA,E","sources":["webpack://subwaypagecomponent/./src/Component.js","webpack://subwaypagecomponent/./src/MainHeader.js","webpack://subwaypagecomponent/./src/MenuBlock.js","webpack://subwaypagecomponent/./src/MenuCategories.js","webpack://subwaypagecomponent/./src/MenuItem.js","webpack://subwaypagecomponent/./src/Order.js","webpack://subwaypagecomponent/webpack/bootstrap","webpack://subwaypagecomponent/webpack/runtime/define property getters","webpack://subwaypagecomponent/webpack/runtime/hasOwnProperty shorthand","webpack://subwaypagecomponent/webpack/runtime/make namespace object","webpack://subwaypagecomponent/./src/App.js"],"sourcesContent":["class Component {\n    constructor(data = {}) {\n        let handler = {\n            set: this.handleDataChange.bind(this)\n        }\n        this.data = new Proxy(data, handler)\n    }\n\n    handleDataChange(item, property, value) {\n        item[property] = value\n        this.rerender(this.data) //\n        console.log(this.data);\n        return true\n    }\n\n    setRerender(callback) {\n        this.rerender = callback;\n        console.log(callback.name);\n    }\n}\n\nexport default Component","import Component from \"./Component\"\n\nclass MainHeader extends Component{\n    constructor() {\n        super();\n    }\n    render() {\n        return (/*html*/`\n            <h1 class=\"main-header\">СДЕЛАЙТЕ ЗАКАЗ НАПРЯМУЮ ИЗ РЕСТОРАНА</h1>\n      `)\n    }\n}\n\nexport default MainHeader","import Component from \"./Component\";\nimport MenuItem from \"./MenuItem\";\n\nclass MenuBlock extends Component {\n    constructor(props) {\n        const data = {\n            items: props.items,\n            selectedTab: props.selectedTab,\n            countersValue: []\n        }\n\n        super(data)\n        super.setRerender(this.render)\n        console.log(data.items.length);\n    }\n\n    // Далее что нужно сделать:\n    // 1. Каунтеры(не забыть сделать так, чтобы они не менялись при переключении)\n\n\n    enable() {\n        for (let i = 0; i < this.data.items.length; i++) {\n            if (this.data.items[i] && this.data.items[i].category !== this.data.selectedTab) {\n                continue;\n            }\n            const handlePlusClick = () => {\n                this.data.countersValue[i] += 1;\n                console.log(this.data.countersValue[i]);\n                console.log(\"Нажат плюс\");\n            }\n            const handleMinusClick = () => {\n                this.data.countersValue[i] -= 1;\n                console.log(this.data.countersValue[i]);\n                console.log(\"Нажат минус\");\n            }\n            console.log(document.getElementById(\"minus-\" + (i + 1)));\n\n            document.getElementById(\"plus-\" + (i + 1)).addEventListener(\"click\", handlePlusClick)\n            document.getElementById(\"minus-\" + (i + 1)).addEventListener(\"click\", handleMinusClick)\n        }\n    }\n\n    loadMenu() {\n        const menuItem = new MenuItem({ items: this.data.items });\n        let items = \"\";\n        let logo = \"\";\n        for (let i in this.data.items) {\n            this.data.countersValue.push(1);\n            if (this.data.items[i].category !== this.data.selectedTab) {\n                continue;\n            }\n\n            if (this.data.items[i].market === \"sfc\") {\n                logo = \"i/South_fried_chicken_logo.png\";\n            } else if (this.data.items[i].market === \"doner\") {\n                logo = \"i/Doner_logo.png\";\n            } else {\n                logo = \"i/Subway_logo.png\";\n            }\n            items += menuItem.render(this.data.items[i], parseInt(i) + 1, logo, this.data.countersValue);\n        }\n\n        return items;\n    }\n\n    render() {\n        console.log(\"Рендер сработал\");\n        return (/*html*/`\n        <div class=\"menu-block\">\n            <div class=\"items-block\">\n            ${this.loadMenu()}\n            </div>\n        </div>\n      `)\n    }\n}\n\nexport default MenuBlock","import Component from \"./Component\"\n\nclass MenuCategories extends Component {\n    constructor(props) {\n        super()\n        this.handleChangeSelectedTabClick = props.handleChangeSelectedTabClick;\n        console.log(this.handleChangeSelectedTabClick);\n\n        this.selectedTab = props.selectedTab\n\n        this.categories =\n        {\n            pancakes: \"Блины\",\n            shaurma: \"Шаурма\",\n            sandwiches: \"Сэндвичи\",\n            burgers: \"Бургеры\",\n            chicken: \"Курица & Картофель\",\n            salads: \"Тортилья & Салаты\",\n            drinks: \"Напитки & Десерты\"\n        }\n    }\n\n        enable() {\n            for (let i in this.categories) {\n                const category = document.getElementById(i);\n                category.addEventListener('click', this.handleClickCategory.bind(this));\n            }\n        }\n\n        handleClickCategory(target) {\n            console.log(\"Нажато\");\n            console.log(target.target.id);\n            if (this.selectedTab !== target.target.id) {\n                this.handleChangeSelectedTabClick(target.target.id);\n            }\n        }\n\n        render() {\n            let menuItems = ``;\n            for (let i in this.categories) {\n                menuItems += `<p class=\"${this.selectedTab === i ? \"category-active\" : \"category\"}\"\n                id=\"${i}\">${this.categories[i]}</p>` \n            }\n           \n\n            return (/*html*/`\n        <div class=\"menu-categories\">\n            ${menuItems}\n        </div>\n      `)\n        }\n    }\n\nexport default MenuCategories","import Component from \"./Component\"\n\nclass MenuItem extends Component{\n    constructor() {\n        super();\n    }\n    render(item, i, logo, countersValue) {\n        return (/*html*/`\n            <div class=\"item\" id=\"item-${i}\">\n                <img class=\"logo\" src=${logo} />\n                <img class=\"item-image\" src=${item.image} />\n                <p class=\"item-name\">${item.name}</p>\n                <p class=\"item-composition\">${item.description}</p>\n                <div class=\"item-price-block\">\n                    <p class=\"price-text\">Цена:</p>\n                    <p class=\"price-value\" id=\"price-${i}\">${item.price}</p>\n                    <p class=\"price-currency\">руб.</p>\n                </div>\n                <p class=\"item-amount\">Количество</p>\n                <div class=\"amount-block\">\n                    <img class=\"minus-icon\" src=\"i/minus.svg\" id=\"minus-${i}\">\n                    <input class=\"item-counter\" type=\"text\" id=\"counter-${i}\" value=${countersValue[i-1]}>\n                    <img class=\"plus-icon\" src=\"i/plus.svg\" id=\"plus-${i}\">\n                </div>\n                <button class=\"item-button\" id=\"button-${i}\" onclick=\"addToBasket(event.target)\">В КОРЗИНУ</button>\n        </div> \n      `)\n    }\n}\n\nexport default MenuItem","import Component from \"./Component\"\n\nclass Order extends Component{\n    constructor() {\n        super();\n    }\n     render() {\n        return (/*html*/`\n        <div class=\"order\">\n        <div class=\"order-head\">\n            <img class=\"basket-icon\" src=\"i/basket.svg\" />\n            <p class=\"head-title\">Корзина</p>\n        </div>\n        <div class=\"order-headers\">\n            <p class=\"title-header\">Название</p>\n            <p class=\"amount-header\">Кол-во</p>\n            <p class=\"price-header\">Цена</p>\n        </div>\n        <div class=\"order-items-block\">\n        </div>\n        <div>\n            <div class=\"sum\">\n                <p class=\"sum-text\">Цена: </p>\n                <p class=\"sum-value\" id=\"sum\">0</p>\n                <p class=\"sum-currency\">руб.</p>\n            </div>\n        </div>\n        <button class=\"order-button\">ОФОРМИТЬ ЗАКАЗ</button>\n        </div>\n      `)\n    }\n}\n\nexport default Order","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Component from \"./Component\";\nimport MainHeader from \"./MainHeader\";\nimport MenuBlock from \"./MenuBlock\";\nimport MenuCategories from \"./MenuCategories\";\nimport Order from \"./Order\";\n\nclass App extends Component {\n    constructor(onChange) {\n        const data = {\n            selectedTab: \"sandwiches\",\n            items: [] // Пройтись по первой главе learnJs и выполнить все задачки\n        }\n        super(data)\n        super.setRerender(onChange)\n        this.onChange = onChange\n        this.createChildren() // eslint + prettier\n\n        const getData = async () => {\n            await fetch(\"./src/data.json\")\n                .then(response => response.json())\n                .then(data => {\n                    this.data.items = data.menu;\n                })\n        }\n        getData();\n    }\n\n    createChildren() {\n        this.mainHeader = new MainHeader();\n        this.menuCategories = new MenuCategories({\n            selectedTab: this.data.selectedTab,\n            handleChangeSelectedTabClick: (x) => { this.data.selectedTab = x }\n        });\n        this.order = new Order();\n        this.menuBlock = new MenuBlock({\n            items: this.data.items,\n            selectedTab: this.data.selectedTab,\n            // Засунуть сюда countersValue\n        });\n    }\n\n    enable() {\n        this.menuCategories.enable();\n        this.menuBlock.enable();\n    }\n\n    testMethod() {\n        console.log(\"Метод сработал\");\n    }\n\n    render() {\n        this.createChildren();\n        return (/*html*/`\n        ${this.mainHeader.render()}\n        <div class=\"main-form\">\n            <div class=\"categories_and_orders-block\">\n                ${this.menuCategories.render()}\n                ${this.order.render()}\n            </div>\n            ${this.menuBlock.render()}\n        </div>\n        `)\n    }\n}\n\nexport default App;\n\nconst rerenderApp = () => {\n    document.body.innerHTML = app.render();\n    app.enable();\n}\n\nconst app = new App(\n    rerenderApp\n);"],"names":[],"sourceRoot":""}