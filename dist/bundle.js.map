{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;AAAA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;AACjC;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;ACrBoB;;AAEnC,yBAAyB,kDAAS;AAClC;AACA;AACA;AACA;AACA;AACA,yCAAyC,EAAE;AAC3C,wCAAwC,MAAM;AAC9C,8CAA8C,YAAY;AAC1D,uCAAuC,UAAU;AACjD,8CAA8C,iBAAiB;AAC/D;AACA;AACA,uDAAuD,KAAK,IAAI,WAAW;AAC3E;AACA;AACA;AACA;AACA,0EAA0E,EAAE;AAC5E,0EAA0E,EAAE;AAC5E,uEAAuE,EAAE;AACzE;AACA,yDAAyD,EAAE;AAC3D;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;AC9BoB;;AAEnC,yBAAyB,kDAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;;ACbqB;AACE;;AAEtC,wBAAwB,kDAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,mDAAU;AACzC;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;AClEoB;;AAEnC,6BAA6B,kDAAS;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;;;;;;;;;;AC/CoB;;AAEnC,oBAAoB,kDAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;;;;;UCjCf;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;ACNoC;AACE;AACF;AACU;AAClB;;AAE5B,kBAAkB,kDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,mDAAU;AACxC,kCAAkC,uDAAc;AAChD;AACA,SAAS;AACT,yBAAyB,8CAAK;AAC9B,6BAA6B,kDAAS;AACtC;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,kBAAkB;AAClB,kBAAkB;AAClB;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA,iEAAe,GAAG,EAAC;;AAEnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,c","sources":["webpack://subwaypagecomponent/./src/Component.js","webpack://subwaypagecomponent/./src/ItemsBlock.js","webpack://subwaypagecomponent/./src/MainHeader.js","webpack://subwaypagecomponent/./src/MenuBlock.js","webpack://subwaypagecomponent/./src/MenuCategories.js","webpack://subwaypagecomponent/./src/Order.js","webpack://subwaypagecomponent/webpack/bootstrap","webpack://subwaypagecomponent/webpack/runtime/define property getters","webpack://subwaypagecomponent/webpack/runtime/hasOwnProperty shorthand","webpack://subwaypagecomponent/webpack/runtime/make namespace object","webpack://subwaypagecomponent/./src/App.js"],"sourcesContent":["class Component {\n    constructor(data = {}) {\n        let handler = {\n            set: this.handleDataChange.bind(this)\n        }\n        this.data = new Proxy(data, handler)\n    }\n\n    handleDataChange(item, property, value) {\n        item[property] = value\n        this.rerender(this.data) //\n        console.log(this.data);\n        return true\n    }\n\n    setRerender(callback) {\n        this.rerender = callback;\n        console.log(this.data);  // Понять как правильно делать стейты в грёбаных классах\n    }\n}\n\nexport default Component","import Component from \"./Component\"\n\nclass ItemsBlock extends Component{\n    constructor() {\n        super();\n    }\n    render(item, i, logo) {\n        return (/*html*/`\n            <div class=\"item\" id=\"item-${i}\">\n                <img class=\"logo\" src=${logo} />\n                <img class=\"item-image\" src=${item.image} />\n                <p class=\"item-name\">${item.name}</p>\n                <p class=\"item-composition\">${item.description}</p>\n                <div class=\"item-price-block\">\n                    <p class=\"price-text\">Цена:</p>\n                    <p class=\"price-value\" id=\"price-${item}\">${item.price}</p>\n                    <p class=\"price-currency\">руб.</p>\n                </div>\n                <p class=\"item-amount\">Количество</p>\n                <div class=\"amount-block\">\n                    <img class=\"minus-icon\" src=\"i/minus.svg\" id=\"minus-${i}\" onclick=\"minusClick(event.target)\">\n                    <input class=\"item-counter\" type=\"text\" id=\"counter-${i}\" value=\"1\">\n                    <img class=\"plus-icon\" src=\"i/plus.svg\" id=\"plus-${i}\" onclick=\"plusClick(event.target)\">\n                </div>\n                <button class=\"item-button\" id=\"button-${i}\" onclick=\"addToBasket(event.target)\">В КОРЗИНУ</button>\n        </div> \n      `)\n    }\n}\n\nexport default ItemsBlock","import Component from \"./Component\"\n\nclass MainHeader extends Component{\n    constructor() {\n        super();\n    }\n    render() {\n        return (/*html*/`\n            <h1 class=\"main-header\">СДЕЛАЙТЕ ЗАКАЗ НАПРЯМУЮ ИЗ РЕСТОРАНА</h1>\n      `)\n    }\n}\n\nexport default MainHeader","import Component from \"./Component\";\nimport ItemsBlock from \"./ItemsBlock\";\n\nclass MenuBlock extends Component {\n    constructor(props) {\n        const data = {\n            items: props.data.menu,\n            selectedTab: props.selectedTab,\n            testMethod: props.testMethod\n        }\n        const getData = async () => {\n            await fetch(\"./src/data.json\")\n                .then(response => response.json())\n                .then(data => {\n                    this.data.items = data.menu;\n                })\n        }\n        getData();\n        super(data)\n        super.setRerender(this.render)\n    }\n\n    // Далее что нужно сделать:\n    // 1. Фильтрация меню по категориям(возможно надо перенести функцию в App и передвавать пропсами)\n    // 2. Каунтеры(не забыть сделать так, чтобы они не менялись при переключении)\n    // 3. Сделать рендеринг без getElement\n\n    loadMenu() {\n        //console.log(this.data.items);\n        //this.data.testMethod()\n        const itemsBlock = new ItemsBlock();\n        let items = \"\";\n        let logo = \"\";\n        for (let i in this.data.items) {\n            if (this.data.items[i].market === \"sfc\") {\n                logo = \"i/South_fried_chicken_logo.png\";\n            } else if (this.data.items[i].market === \"doner\") {\n                logo = \"i/Doner_logo.png\";\n            } else {\n                logo = \"i/Subway_logo.png\";\n            }\n            if (this.data.items[i].category === this.data.selectedTab) {\n                items += itemsBlock.render(this.data.items[i], parseInt(i) + 1, logo);\n            }\n        }\n        if (this.data.items === undefined) {\n            items = \"Загрузка...\"\n        }\n        console.log(this.data.items);\n\n        return items;\n    }\n\n    render() {\n        console.log(\"Рендер сработал\");\n\n        return (/*html*/`\n        <div class=\"menu-block\">\n            <div class=\"items-block\">\n            ${this.loadMenu()}\n            </div>\n        </div>\n      `)\n    }\n}\n\nexport default MenuBlock","import Component from \"./Component\"\n\nclass MenuCategories extends Component {\n    constructor(props) {\n        const data = {\n            selectedTab: props.selectedTab\n        }\n        super(data)\n        super.setRerender(this.rerender)\n        this.tab = \"\";\n\n        this.arrayId = [\"pancakes\", \"shaurma\", \"sandwiches\", \"burgers\", \"chicken\", \"salads\", \"drinks\"]\n    }\n\n    addListeners() {\n        for (let i in this.arrayId) {\n            document.getElementById(this.arrayId[i]).addEventListener('click', this.categoryClick.bind(this));\n        }\n    }\n\n    categoryClick(target) {\n        console.log(\"Нажато\");\n        console.log(this.data);\n        console.log(target.target.id);\n        this.tab = target.target.id;\n        this.data.selectedTab = this.tab;\n    }\n\n    rerender() {\n        console.log(this.data.selectedTab);\n    }\n\n    render() {\n        return (/*html*/`\n        <div class=\"menu-categories\">\n            <p class=\"category\" id=\"pancakes\">Блины</p>\n            <p class=\"category\" id=\"shaurma\">Шаурма</p>\n            <p class=\"category\" id=\"sandwiches\">Сэндвичи</p>\n            <p class=\"category\" id=\"burgers\">Бургеры</p>\n            <p class=\"category\" id=\"chicken\">Курица & Картофель</p>\n            <p class=\"category\" id=\"salads\">Тортилья & Салаты</p>\n            <p class=\"category\" id=\"drinks\">Напитки & Десерты</p>\n        </div>\n      `)\n    }\n}\n\nexport default MenuCategories","import Component from \"./Component\"\n\nclass Order extends Component{\n    constructor() {\n        super();\n    }\n     render() {\n        return (/*html*/`\n        <div class=\"order\">\n        <div class=\"order-head\">\n            <img class=\"basket-icon\" src=\"i/basket.svg\" />\n            <p class=\"head-title\">Корзина</p>\n        </div>\n        <div class=\"order-headers\">\n            <p class=\"title-header\">Название</p>\n            <p class=\"amount-header\">Кол-во</p>\n            <p class=\"price-header\">Цена</p>\n        </div>\n        <div class=\"order-items-block\">\n        </div>\n        <div>\n            <div class=\"sum\">\n                <p class=\"sum-text\">Цена: </p>\n                <p class=\"sum-value\" id=\"sum\">0</p>\n                <p class=\"sum-currency\">руб.</p>\n            </div>\n        </div>\n        <button class=\"order-button\">ОФОРМИТЬ ЗАКАЗ</button>\n        </div>\n      `)\n    }\n}\n\nexport default Order","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Component from \"./Component\";\nimport MainHeader from \"./MainHeader\";\nimport MenuBlock from \"./MenuBlock\";\nimport MenuCategories from \"./MenuCategories\";\nimport Order from \"./Order\";\n\nclass App extends Component {\n    constructor(\n        onChange\n    ) {\n        const data = {\n            selectedTab: \"sandwiches\" // Сделать selectedTab как state в других компонентах\n        }                           // Повыполнять задачки с функциями на learnJs\n        super(data)\n        super.setRerender(onChange)\n        console.log(onChange);\n        this.createChildren() // eslint + prettier\n    }\n\n    createChildren() {\n        \n        this.mainHeader = new MainHeader();\n        this.menuCategories = new MenuCategories({\n            selectedTab: this.data.selectedTab\n        });\n        this.order = new Order();\n        this.menuBlock = new MenuBlock({\n            data: [],\n            selectedTab: this.data.selectedTab,\n            testMethod: this.testMethod\n        });\n    }\n\n    enable() {\n        this.menuCategories.addListeners();\n    }\n\n    testMethod() {\n        console.log(\"Метод сработал\");\n    }\n\n    render() {\n        this.createChildren();\n        console.log(this.data.selectedTab);\n        return (/*html*/`\n        ${this.mainHeader.render()}\n        <div class=\"main-form\">\n            <div class=\"categories_and_orders-block\">\n                ${this.menuCategories.render()}\n                ${this.order.render()}\n            </div>\n            ${this.menuBlock.render()}\n        </div>\n        `)\n    }\n}\n\nexport default App;\n\nconst rerenderApp = () => {\n    document.body.innerHTML = app.render();\n    app.enable();\n}\n\nconst app = new App(\n    rerenderApp\n);\nrerenderApp();"],"names":[],"sourceRoot":""}